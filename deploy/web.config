<?xml version="1.0" encoding="utf-8"?>

<configuration>
    <location path="." inheritInChildApplications="false">
        <system.webServer>
            <handlers>
                <add name="aspNetCore" path="*" verb="*"
                     modules="AspNetCoreModuleV2" resourceType="Unspecified" />
            </handlers>

            <!-- ASP.NET Core Module Configuration -->
            <aspNetCore processPath="dotnet"
                        arguments=".\AsposeMcpServer.dll"
                        stdoutLogEnabled="false"
                        stdoutLogFile=".\logs\stdout"
                        hostingModel="InProcess">
                <environmentVariables>
                    <!-- Transport Settings (Required) -->
                    <environmentVariable name="ASPOSE_TRANSPORT" value="sse" />
                    <environmentVariable name="ASPOSE_PORT" value="3000" />

                    <!-- Tools (Required) -->
                    <environmentVariable name="ASPOSE_TOOLS" value="all" />

                    <!-- License Path (Optional) -->
                    <!-- <environmentVariable name="ASPOSE_LICENSE_PATH" value=".\Aspose.Total.lic" /> -->

                    <!-- Session Settings (Optional) -->
                    <!-- <environmentVariable name="ASPOSE_SESSION_ENABLED" value="true" /> -->
                    <!-- <environmentVariable name="ASPOSE_SESSION_MAX" value="10" /> -->
                    <!-- <environmentVariable name="ASPOSE_SESSION_TIMEOUT" value="30" /> -->
                    <!-- <environmentVariable name="ASPOSE_SESSION_TEMP_RETENTION_HOURS" value="24" /> -->

                    <!-- Logging (Optional) -->
                    <!-- <environmentVariable name="ASPOSE_LOG_ENABLED" value="true" /> -->
                    <!-- <environmentVariable name="ASPOSE_LOG_TARGETS" value="Console" /> --> <!-- Console, EventLog (Windows only) -->

                    <!-- API Key Authentication (Optional) -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_ENABLED" value="true" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_MODE" value="local" /> --> <!-- local, gateway, introspection, custom -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_KEYS" value="key1:tenant1,key2:tenant2" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_HEADER" value="X-API-Key" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_TENANT_HEADER" value="X-Tenant-Id" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_INTROSPECTION_AUTH" value="Bearer token" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_APIKEY_CUSTOM_TIMEOUT" value="5" /> -->

                    <!-- JWT Authentication (Optional) -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_ENABLED" value="true" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_MODE" value="local" /> --> <!-- local, gateway, introspection, custom -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_SECRET" value="your-secret-key" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_ISSUER" value="your-issuer" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_AUDIENCE" value="your-audience" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_TENANT_CLAIM" value="tenant_id" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_TENANT_HEADER" value="X-Tenant-Id" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_USER_HEADER" value="X-User-Id" /> -->
                    <!-- <environmentVariable name="ASPOSE_AUTH_JWT_CUSTOM_TIMEOUT" value="5" /> -->

                    <!-- Metrics (Optional) -->
                    <!-- <environmentVariable name="ASPOSE_METRICS_ENABLED" value="true" /> -->
                </environmentVariables>
            </aspNetCore>

            <!-- WebSocket Support (Optional, for WebSocket transport mode) -->
            <!-- <webSocket enabled="true" /> -->

            <!-- Request Timeout for SSE (Optional, for long-running connections) -->
            <!-- <httpRuntime executionTimeout="3600" /> -->

            <!-- Security Headers (Optional) -->
            <!--
            <httpProtocol>
                <customHeaders>
                    <remove name="X-Powered-By" />
                    <add name="X-Content-Type-Options" value="nosniff" />
                    <add name="X-Frame-Options" value="DENY" />
                    <add name="X-XSS-Protection" value="1; mode=block" />
                </customHeaders>
            </httpProtocol>
            -->

            <!-- Compression (Optional) -->
            <!-- <urlCompression doStaticCompression="true" doDynamicCompression="true" /> -->

            <!-- Error Handling (Optional) -->
            <!-- <httpErrors errorMode="DetailedLocalOnly" /> -->
        </system.webServer>
    </location>

    <!-- Encoding Settings (Optional) -->
    <!--
    <system.web>
        <globalization requestEncoding="utf-8" responseEncoding="utf-8" />
    </system.web>
    -->
</configuration>